<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quadricipite Timer</title>
  <style>
    body { font-family: Arial, sans-serif; margin:0; display:flex; height:100vh; }
    #sidebar { width: 30%; background:#f4f4f4; padding:20px; overflow-y:auto; }
    #sidebar h2 { margin-top:0; }
    .exercise-item { padding:8px; border-left:4px solid transparent; margin-bottom:6px; }
    .active { border-left:4px solid green; background:#e0ffe0; font-weight:bold; }
    #main { flex:1; display:flex; flex-direction:column; align-items:center; justify-content:center; }
    #exercise-name { font-size:2em; margin:10px 0; }
    #exercise-img { max-width:80%; max-height:50vh; object-fit:contain; margin:15px 0; border-radius:12px; box-shadow:0 2px 8px rgba(0,0,0,0.2);}
    #timer { font-size:3em; margin:10px 0; }
    #exercise-desc { font-size:1.2em; text-align:center; max-width:80%; }
    button { margin:5px; padding:10px 20px; font-size:1em; }
  </style>
</head>
<body>
  <div id="sidebar">
    <h2>Sequenza esercizi</h2>
    <div id="exercise-list"></div>
  </div>
  <div id="main">
    <div id="exercise-name"></div>
    <img id="exercise-img" src="" alt="Esercizio">
    <div id="timer"></div>
    <div id="exercise-desc"></div>
    <div>
      <button onclick="startWorkout()">Start</button>
      <button onclick="pauseWorkout()">Pause</button>
      <button onclick="resetWorkout()">Reset</button>
    </div>
  </div>
  <audio id="beep" src="https://actions.google.com/sounds/v1/alarms/medium_bell.ogg" preload="auto"></audio>
  <script>
    const workoutPlan = [
      { name:"Step isometrico", duration:30, img:"https://upload.wikimedia.org/wikipedia/commons/3/37/Step-up.jpg", desc:"Step lento sul gradino, contrai quadricipiti." },
      { name:"Cyclette", duration:60, img:"https://upload.wikimedia.org/wikipedia/commons/c/c6/Exercise_bike.jpg", desc:"Pedala a ritmo moderato, concentrandoti sui quadricipiti." },
      { name:"Stacco punto critico", duration:45, img:"https://upload.wikimedia.org/wikipedia/commons/3/3f/Deadlift_1.jpg", desc:"Sollevamento controllato, schiena dritta, contrai quadricipiti." },
      { name:"Esercizio Alfabeto", duration:60, img:"https://upload.wikimedia.org/wikipedia/commons/2/2d/ABC_Alphabet.jpg", desc:"Muovi la gamba come se scrivessi l'alfabeto, lentamente." }
    ];
    let currentIndex = 0;
    let timeLeft = workoutPlan[0].duration;
    let timerInterval = null;
    const listDiv = document.getElementById("exercise-list");
    const nameDiv = document.getElementById("exercise-name");
    const imgEl = document.getElementById("exercise-img");
    const timerDiv = document.getElementById("timer");
    const descDiv = document.getElementById("exercise-desc");
    const beep = document.getElementById("beep");
    function renderList() {
      listDiv.innerHTML = "";
      workoutPlan.forEach((ex,i)=>{
        const div = document.createElement("div");
        div.className = "exercise-item" + (i===currentIndex ? " active":"");
        div.textContent = `${i+1}. ${ex.name} (${ex.duration}s)`;
        listDiv.appendChild(div);
      });
    }
    function updateDisplay() {
      let ex = workoutPlan[currentIndex];
      nameDiv.textContent = ex.name;
      imgEl.src = ex.img;
      descDiv.textContent = ex.desc;
      timerDiv.textContent = timeLeft+"s";
      renderList();
    }
    function tick() {
      if(timeLeft>0) {
        timeLeft--;
        timerDiv.textContent = timeLeft+"s";
      } else {
        beep.volume=0.4;
        beep.play();
        nextExercise();
      }
    }
    function startWorkout() {
      if(!timerInterval) timerInterval = setInterval(tick,1000);
    }
    function pauseWorkout() { clearInterval(timerInterval); timerInterval=null; }
    function resetWorkout() { pauseWorkout(); currentIndex=0; timeLeft=workoutPlan[0].duration; updateDisplay(); }
    function nextExercise() {
      pauseWorkout();
      if(currentIndex<workoutPlan.length-1) {
        currentIndex++; timeLeft = workoutPlan[currentIndex].duration;
        updateDisplay(); startWorkout();
      } else {
        nameDiv.textContent="Workout completato!";
        imgEl.src=""; descDiv.textContent=""; timerDiv.textContent="";
      }
    }
    updateDisplay();
  </script>
</body>
</html>
